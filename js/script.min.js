document.addEventListener("DOMContentLoaded",()=>{function e(){var e=Math.min(window.innerWidth,screen.width);e<375?(document.body.style.transform=`scale(${e/375})`,document.body.style.transformOrigin="top left",document.body.style.width="375px"):(document.body.style.transform="",document.body.style.width="")}e(),window.addEventListener("resize",e)}),document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll(".l-header__link");let o=location.pathname.replace(/\/$/,"");"/"!==o&&""!==o||(o="/index.html"),e.forEach(e=>{let t=e.getAttribute("href")?.replace(/\/$/,"");(t="/"!==t&&""!==t?t:"/index.html")===o&&(e.classList.add("is-active"),e.setAttribute("aria-current","page"))})}),document.addEventListener("DOMContentLoaded",()=>{let t=document.querySelector(".c-drawer"),r=document.querySelector(".c-drawer-icon"),e=document.body,n=!1;if(t&&r){t.style.opacity="0",t.style.visibility="hidden",t.style.transform="translateX(100%)",t.style.overflow="hidden",t.style.transition="all 0.7s ease-out";let o=()=>{n=!1,t.classList.remove("js-show"),r.classList.remove("js-show"),t.style.opacity="0",t.style.visibility="hidden",t.style.transform="translateX(100%)",e.style.overflow="",r.setAttribute("aria-expanded","false")};r.addEventListener("click",()=>{n?o():(n=!0,t.classList.add("js-show"),r.classList.add("js-show"),t.style.opacity="1",t.style.visibility="visible",t.style.transform="translateX(0)",e.style.overflow="hidden",r.setAttribute("aria-expanded","true"))}),window.addEventListener("resize",()=>{900<window.innerWidth&&n&&o()}),document.addEventListener("click",e=>{t.contains(e.target)||r.contains(e.target)||!n||o()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n&&o()}),document.querySelectorAll(".c-drawer__item-link").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=document.querySelector(t.getAttribute("href"));e&&e.scrollIntoView({behavior:"smooth",block:"start"}),o()})})}});let drawerBtn=document.querySelector(".c-drawer-icon"),bars=drawerBtn.querySelectorAll(".c-drawer-icon__bar"),isOpen=!1,buttonTop=(drawerBtn.addEventListener("click",()=>{(isOpen=!isOpen)?(gsap.to(bars[0],{y:7,rotate:405,transformOrigin:"center",duration:.6,ease:"power3.out"}),gsap.to(bars[1],{opacity:0,duration:.3,ease:"power1.out"}),gsap.to(bars[2],{y:-7,rotate:-405,transformOrigin:"center",duration:.6,ease:"power3.out"})):(gsap.to(bars[0],{y:0,rotate:0,duration:.6,ease:"power3.inOut"}),gsap.to(bars[1],{opacity:1,duration:.3,ease:"power1.in"}),gsap.to(bars[2],{y:0,rotate:0,duration:.6,ease:"power3.inOut"}))}),document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("overlay"),t=document.getElementById("siteContent");var o=localStorage.getItem("visited");let r=document.querySelectorAll(".p-index-mv-swiper-slide__text");function n(e){e=e.querySelectorAll(".p-index-mv-swiper-slide__heading, .p-index-mv-swiper-slide__sub");e.forEach((r,n)=>{r.innerText.split(r.innerHTML="").forEach((e,t)=>{var o=document.createElement("span"),e=(o.innerText=e,1===n?1.5:0);o.style.animationDelay=.15*t+e+1.5+"s",r.appendChild(o)})})}function a(){var e=document.querySelector(".swiper-slide-active .p-index-mv-slide-img");e&&(gsap.set(e,{xPercent:-100,opacity:1}),gsap.to(e,{xPercent:0,opacity:1,duration:3,ease:"power2.out"}))}function s(){r.forEach(e=>n(e));new Swiper(".p-index-mv-card__swiper",{speed:1e3,effect:"fade",loop:!0,autoplay:{delay:6e3},pagination:{el:".swiper-pagination",clickable:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},on:{init:()=>{var e=document.querySelector(".swiper-slide-active .p-index-mv-swiper-slide__text");e&&n(e),a()},slideChangeTransitionStart:()=>{var e=document.querySelector(".swiper-slide-active .p-index-mv-swiper-slide__text");e&&n(e),a()}}})}o?(e.style.display="none",t&&(t.style.display="block"),s()):(localStorage.setItem("visited","true"),setTimeout(()=>{e.style.transition="opacity 4s ease-in-out",e.style.opacity="0",e.addEventListener("transitionend",()=>{e.style.display="none",console.log("✅ オーバーレイが非表示になりました"),t&&(t.style.display="block"),s()})},5e3))}),document.querySelectorAll(".header__nav-link-icon path").forEach(e=>{var t=e.getTotalLength();e.style.strokeDasharray=t,e.style.strokeDashoffset=t}),document.querySelectorAll(".header__nav-link").forEach(o=>{o.addEventListener("mouseenter",()=>{let e=o.querySelector(".header__nav-link-icon path");e.style.transition="none",e.style.strokeDashoffset=e.getTotalLength(),requestAnimationFrame(()=>{e.style.transition="stroke-dashoffset 1.5s ease-in-out",e.style.strokeDashoffset="0"})}),o.addEventListener("mouseleave",()=>{var e=o.querySelector(".header__nav-link-icon path"),t=e.getTotalLength();e.style.strokeDashoffset=t})}),document.querySelector(".c-button-top")),staffMessageSwiper2=(buttonTop.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".c-button-top");window.addEventListener("scroll",()=>{300<(window.scrollY||document.documentElement.scrollTop)?e.classList.add("is-visible"):e.classList.remove("is-visible")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}),document.addEventListener("DOMContentLoaded",()=>{let t=document.querySelector(".c-button-top");if(t){let e;t.addEventListener("mouseenter",()=>{(e=gsap.timeline()).to(t,{rotate:1080,scale:1.15,duration:.5,ease:"power3.out"}),gsap.fromTo(t,{scale:1},{scale:1.2,duration:.2,ease:"power1.out",yoyo:!0,repeat:1,delay:.1})}),t.addEventListener("mouseleave",()=>{e&&e.kill(),gsap.to(t,{rotate:0,scale:1,boxShadow:"none",duration:.4,ease:"power3.inOut"})})}}),document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".recommend__item").forEach((e,t)=>{gsap.timeline({scrollTrigger:{trigger:".recommend",start:"top 40%",toggleActions:"play none none none",markers:!1},delay:.3*t}).fromTo(e,{scale:.5,opacity:0},{scale:1.2,opacity:1,duration:.8,ease:"power3.out"}).to(e,{scale:1,duration:.3,ease:"power2.inOut"})})}),document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".medical__service").forEach((e,t)=>{gsap.fromTo(e,{scaleY:.8,opacity:0,transformOrigin:"center bottom",y:30},{scaleY:1,opacity:1,y:0,duration:.6,ease:"power2.out",delay:.2*t,scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none none"}})})}),document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);var e=Array.from(document.querySelectorAll(".blog__card"));let o=[],r=null,n=[];e.forEach(e=>{var t=e.offsetTop;null===r||t===r?n.push(e):(o.push(n),n=[e]),r=t}),0<n.length&&o.push(n),o.forEach((e,t)=>{let o=t%2==0?"-300px":"300px";e.forEach(e=>{gsap.fromTo(e,{x:o,opacity:0},{scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none none"},x:0,opacity:1,duration:.3,ease:"power1.out"})})})}),new Swiper(".p-staff-message__swiper.--swiper2",{speed:1e3,effect:"slide",allowTouchMove:!0,loop:!0,autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!1,reverseDirection:!1},centeredSlides:!0,slidesPerView:"auto",spaceBetween:30,pagination:{el:".swiper-pagination.--swiper2",clickable:!0,type:"bullets"},navigation:{prevEl:".swiper-button-prev.--swiper2",nextEl:".swiper-button-next.--swiper2"},scrollbar:{el:".swiper-scrollbar",hide:!0,draggable:!0}}));